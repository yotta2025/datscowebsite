---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout title="Contact Us | Datsco Resources Inc">
  <style>
    .banner {
      background: linear-gradient(135deg, #004080, #0b5aa6);
      color: #fff;
      border-radius: 12px;
      padding: 28px 22px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 18px;
      margin-bottom: 26px;
    }
    .banner h1 {
      color: #fff;          /* 覆盖 BaseLayout 的 h1 蓝色 */
      margin: 0 0 8px;
      font-size: 2.2rem;
    }
    .banner p {
      margin: 0;
      opacity: 0.95;
      max-width: 720px;
    }
    .bannerIcon {
      width: 78px;
      height: 78px;
      flex: 0 0 auto;
      background: rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.22);
      border-radius: 16px;
      display: grid;
      place-items: center;
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1.1fr;
      gap: 20px;
      align-items: start;
    }
    @media (max-width: 860px) {
      .grid { grid-template-columns: 1fr; }
      .banner { flex-direction: column; align-items: flex-start; }
    }
    .card {
      background: #f7f7f7;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    }
    .card h2 {
      margin-top: 0;
    }
    .contactRow {
      display: grid;
      grid-template-columns: 18px 1fr;
      gap: 10px;
      align-items: start;
      margin: 10px 0;
    }
    .dot {
      width: 18px;
      height: 18px;
      border-radius: 6px;
      background: #004080;
      display: inline-block;
      margin-top: 3px;
    }
    .muted {
      color: #555;
      font-size: 0.95rem;
      margin-top: 10px;
    }

    form label { font-weight: 600; color: #333; }
    .input, textarea {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ddd;
      border-radius: 10px;
      outline: none;
      background: #fff;
      box-sizing: border-box;
    }
    .input:focus, textarea:focus {
      border-color: #0b5aa6;
      box-shadow: 0 0 0 3px rgba(11, 90, 166, 0.15);
    }
    .btn {
      padding: 10px 18px;
      background-color: #004080;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.10);
    }
    .btn:hover { filter: brightness(1.05); }
    .req { color: #b00020; }
  </style>

  <!-- Banner -->
  <section class="banner">
    <div>
      <h1>Contact Us</h1>
      <p>
        If you have inquiries about our products, services, or potential cooperation,
        please feel free to reach out. We welcome discussions with suppliers,
        distributors, and business partners worldwide.
      </p>
    </div>

    <!-- 简单 SVG 图标（不用额外图片文件） -->
    <div class="bannerIcon" aria-hidden="true">
      <svg width="44" height="44" viewBox="0 0 24 24" fill="none">
        <path d="M4 6h16v12H4V6Z" stroke="white" stroke-width="1.8" opacity="0.9"/>
        <path d="m4 7 8 6 8-6" stroke="white" stroke-width="1.8" opacity="0.9"/>
      </svg>
    </div>
  </section>

  <div class="grid">
    <!-- Contact Information -->
    <section class="card">
      <h2>Contact Information</h2>

      <div class="contactRow">
        <span class="dot"></span>
        <div>
          <strong>Email:</strong>
          <a href="mailto:tzd@datscoresources.com" style="color:#004080; text-decoration:underline;">
            tzd@datscoresources.com
          </a>
        </div>
      </div>

      <div class="contactRow">
        <span class="dot"></span>
        <div>
          <strong>Phone:</strong>
          <a href="tel:+14373402451" style="color:#004080; text-decoration:underline;">
            +1 (437) 340-2451
          </a>
        </div>
      </div>

      <div class="contactRow">
        <span class="dot"></span>
        <div>
          <strong>Address:</strong> Suite 101 2275 Upper Middle Road E, Oakville, ON, Canada
        </div>
      </div>

      <p class="muted">We aim to respond to all inquiries within one business day.</p>

      <!-- 可选：地图按钮（不放地图也很干净） -->
      <p style="margin-top:14px;">
        <a
          href="https://www.google.com/maps/search/?api=1&query=Suite%20101%202275%20Upper%20Middle%20Road%20E%20Oakville%20ON%20Canada"
          target="_blank"
          style="color:#004080; text-decoration:underline;"
        >
          View on Google Maps
        </a>
      </p>
    </section>

    <!-- Form -->
   <section class="card">
  <h2 style="margin-top:0;">Send us a Message</h2>

  <form id="contactForm" style="margin-top:12px;">
    <label for="company">Company Name <span class="req">*</span></label>
    <input class="input" type="text" id="company" name="company" required style="margin:6px 0 14px;" />

    <label for="address">Address</label>
    <input class="input" type="text" id="address" name="address" style="margin:6px 0 14px;" />

    <label for="phone">Phone</label>
    <input class="input" type="tel" id="phone" name="phone" style="margin:6px 0 14px;" />

    <label for="email">Email <span class="req">*</span></label>
    <input class="input" type="email" id="email" name="email" required style="margin:6px 0 14px;" />

    <label for="comments">Comments</label>
    <textarea id="comments" name="comments" rows="5" style="margin:6px 0 14px;"></textarea>

    <!-- 反垃圾：蜜罐字段（用户看不到，机器人会填） -->
    <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />

    <button class="btn" type="submit" id="submitBtn">Submit</button>

    <p id="formStatus" style="margin-top:12px; font-size:0.95rem; color:#666;"></p>
  </form>

  <p style="margin-top:12px; font-size:0.9rem; color:#666;">* Required fields</p>
</section>

<script>
  const FORM_ENDPOINT = "https://formspree.io/f/mzdbpboy";

  const form = document.getElementById("contactForm");
  const btn = document.getElementById("submitBtn");
  const status = document.getElementById("formStatus");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    status.textContent = "";
    btn.disabled = true;
    btn.textContent = "Sending...";

    try {
      const formData = new FormData(form);

      // 可选：自定义邮件标题（Formspree 会用）
      formData.append("_subject", "New inquiry from datscoresources.com");

      const res = await fetch(FORM_ENDPOINT, {
        method: "POST",
        body: formData,
        headers: { "Accept": "application/json" },
      });

      if (res.ok) {
        // 成功：跳转到你自己的网站 Thank You 页面
        window.location.href = "/thankyou/";
        return;
      }

      // 失败：尝试解析错误信息
      let msg = "Submission failed. Please try again later.";
      try {
        const data = await res.json();
        if (data?.errors?.length) {
          msg = data.errors.map((x) => x.message).join(" ");
        }
      } catch (_) {}

      status.textContent = msg;
    } catch (err) {
      status.textContent = "Network error. Please check your connection and try again.";
    } finally {
      btn.disabled = false;
      btn.textContent = "Submit";
    }
  });
</script>
      
    </section>
  </div>
</BaseLayout>